/*! core 2014-04-06 */
!function(scope){function ver(a,b,c,d){var e=a.exec(ua);return null===e||"object"!=typeof e||"number"!=typeof e.length?!0:"number"==typeof e.length&&e.length>=b+1?c&&d?e[b].replace(c,d):e[b]:!0}scope.core||(scope.core={});for(var prop in o)scope.core[prop]=o[prop];if(!scope.core.selector)try{scope.core.selector=jQuery||$||null}catch(err){}if("function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d?this:a||window,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),Function.prototype.inherits=function(a){var b=function(){};b.prototype=new a({__inheriting__:!0}),this.prototype=b.prototype,this.prototype.constructor=this,b=null},Function.prototype.augment=function(a){for(var b in a)this.prototype[b]=a[b]},"undefined"!=typeof navigator){var N=navigator.appName,ua=navigator.userAgent,tem,M=ua.match(/(opera|chrome|safari|firefox|msie|trident)\/?\s*(\.?\d+(\.\d+)*)/i);M&&null!=(tem=ua.match(/version\/([\.\d]+)/i))&&(M[2]=tem[1]),M=M?[M[1],M[2]]:[N,navigator.appVersion,"-?"];var br={mobile:!1,ios:!1,iphone:!1,ipad:!1,android:!1,webos:!1,mac:!1,windows:!1,other:!0,name:"trident"==M[0].toLowerCase()?"msie":M[0].toLowerCase(),version:M[1].split(".")[0],touch:"ontouchstart"in window,full_version:M[1]};/mobile/i.test(ua)&&(br.mobile=!0),/like Mac OS X/.test(ua)&&(br.ios=ver(/CPU( iPhone)? OS ([0-9\._]+) like Mac OS X/,2,/_/g,"."),br.iphone=/iPhone/.test(ua),br.ipad=/iPad/.test(ua)),/Android/.test(ua)&&(br.android=ver(/Android ([0-9\.]+)[\);]/,1)),/webOS\//.test(ua)&&(br.webos=ver(/webOS\/([0-9\.]+)[\);]/,1)),/(Intel|PPC) Mac OS X/.test(ua)&&(br.mac=ver(/(Intel|PPC) Mac OS X ?([0-9\._]*)[\)\;]/,2,/_/g,".")),/Windows NT/.test(ua)&&(br.windows=ver(/Windows NT ([0-9\._]+)[\);]/,1));for(var key in br)"Other"!==key&&"Mobile"!==key&&br[key]!==!1&&(br.other=!1);scope.core.browser=br,scope.core.browser["trident"==M[0].toLowerCase()?"msie":M[0].toLowerCase()]={version:M[1].split(".")[0]}}scope.core.GUID=function(){for(var a=[],b="0123456789abcdef",c=0;36>c;c++)a[c]=b.substr(Math.floor(16*Math.random()),1);a[14]="4",a[19]=b.substr(3&a[19]|8,1),a[8]=a[13]=a[18]=a[23]="-";var d=a.join("");return d},scope.core.rect=function(a){return a instanceof Array?a[0].getBoundingClientRect():a.getBoundingClientRect()},scope.core.registerNamespace=function(a,b){var c=a.split("."),d=c.shift();scope[d]||(scope[d]={});for(var e=scope[d];c.length>1;){var f=c.shift();e[f]||(e[f]={}),e=e[f]}var g=c.shift();e[g]=b||{}},scope.core.import=function(a){for(var b=a.split("."),c=scope;b.length;){var d=b.shift();if(!c[d])return null;c=c[d]}return c},scope.JSON||(scope.JSON={}),function(){function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)d=rep[c],"string"==typeof d&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()}("undefined"!=typeof process&&void 0!==process.arch?GLOBAL:window),console||(console={log:function(){},warn:function(){}}),function(a,b){function c(b){if(!b||!b.__inheriting__){b&&b.el&&(this.el="string"==typeof b.el?a(b.el):b.el),this.proxyHandlers={},this.construct(b);var c=this;setTimeout(function(){c.delayedConstruct&&c.delayedConstruct(b)},0)}}c.prototype.getProxyHandler=function(a){return this.proxyHandlers[a]||("function"==typeof this[a]?this.proxyHandlers[a]=this[a].bind(this):console.warn("Warning: attempt to create non existing method as proxy "+a)),this.proxyHandlers[a]},c.prototype.clearProxyHandler=function(a){var b=this.proxyHandlers[a];return null===b&&console.warn("Warning: attempt to clear a non-existing proxy - "+a),this.proxyHandlers[a]=null,delete this.proxyHandlers[a],b},c.prototype.construct=function(){},c.prototype.dispose=function(){this.el=null;for(var a in this.proxyHandlers)this.proxyHandlers[a]=null,delete this.proxyHandlers[a]},core.registerNamespace("core.Core"),b.core.Core=c}(core.selector,"undefined"!=typeof process&&void 0!==process.arch?GLOBAL:window),function(a,b){function c(a){a&&a.__inheriting__||d.call(this,a)}var d=core.Core,e=d.prototype;c.inherits(d);var f=c.prototype;f.construct=function(b){e.construct.call(this,b),document&&a(document).on("ready",this.getProxyHandler("onDocumentReady")),window&&a(window).on("resize",this.getProxyHandler("onWindowResize"))},f.dispose=function(){e.dispose.call(this)},f.onWindowResize=function(){};var g=function(){try{var a=this.el.find("[data-root]");if(!this[a.attr("id")]){if(a.length>1)throw new Error("ROOT CLASS ERROR: Only 1 root class is allowed per document delegate.");var c=Function.apply(b,["return "+a.attr("data-root")])(),d=a.attr("data-params")?JSON.parse(a.attr("data-params")):{};d.el=a,this[a.attr("id")]=new c(d)}}catch(e){throw new Error("ROOT CLASS ERROR: "+e)}};f.onDocumentReady=function(b){b&&g.call(this),window&&a(window).trigger("resize")},core.registerNamespace("core.delegates.Document"),b.core.delegates.Document=c}(core.selector,"undefined"!=typeof process&&void 0!==process.arch?GLOBAL:window),function(a,b){function c(a){a&&a.__inheriting__||d.call(this,a)}var d=core.Core,e=d.prototype;c.inherits(d);var f=c.prototype;f.construct=function(a){e.construct.call(this,a),h.call(this,this.el,a);try{this.initialized(a)}catch(b){}},f.dispose=function(){for(var a in this)try{this[a].attr("data-event")&&this[a].off(this[a].attr("data-event"))}catch(b){}e.dispose.call(this)};var g=function(a,b,c,d){a.on(b,d?Function.apply(window,["return "+c])():this.getProxyHandler(c)),this[a.attr("id")]=a},h=function(c,d){for(var e=c.find(">*"),f=e.length;f--;){var i=a(e[f]);try{if(i.attr("data-module")&&i.attr("id")&&!this[i.attr("id")]){var j=Function.apply(b,["return "+i.attr("data-module")])(),d=i.attr("data-params")?JSON.parse(root.attr("data-params")):{};d.el=i,this[i.attr("id")]=new j(d)}else if(i.attr("data-module")&&i.attr("id")&&i.attr("data-event")&&(i.attr("data-event-handler")||i.attr("data-event-function")))g.call(this,i,i.attr("data-event"),i.attr("data-event-handler")||i.attr("data-event-function"),!i.attr("data-event-handler")&&i.attr("data-event-function"));else if(i.attr("data-module")&&!i.attr("id")){var j=Function.apply(b,["return "+i.attr("data-module")])(),d=i.attr("data-params")?JSON.parse(root.attr("data-params")):{};d.el=i,new j(d)}else h.call(this,a(e[f]))}catch(k){console.log("UNABLE TO CREATE MODULE",i.attr("module")," ERR:",k)}}};core.registerNamespace("core.delegates.Module"),b.core.delegates.Module=c}(core.selector,"undefined"!=typeof process&&void 0!==process.arch?GLOBAL:window),function(a,b){function c(a){a&&a.__inheriting__||e.call(this,a)}var d=null,e=core.events.Signal,f=e.prototype;c.inherits(core.Signal);var g=c.prototype;g.construct=function(a){f.construct.call(this,a)},g.dispose=function(){f.dispose.call(this)};var h={init:function(){return null==d&&(d=new c),d}};h.instance=h.init,h.EVENTS=c.EVENTS,core.registerNamespace("core.events.EventChannel"),b.core.events.EventChannel=h}(core.selector,"undefined"!=typeof process&&void 0!==process.arch?GLOBAL:window),function(a){function b(a){c.call(this,a)}var c=core.Core,d=c.prototype;b.inherits(c);var e=b.prototype;e.construct=function(a){d.construct.call(this,a),this.events={}},e.dispose=function(){d.dispose.call(this),this.removeAll(),this.events=null};var f=function(a,b){for(var c=a.length,d=0;c>d;d++)if(a[d].scope===b)return a[d];return b.__signal__id=core.GUID(),-1},g=function(a,b,c,d){var e=null,g=f.call(this,this.events[a+(d?"_once":"")],b);-1===g&&b.dispose?(e=b.dispose,b.dispose=function(){var a=Array.prototype.shift.call(arguments),c=Array.prototype.shift.call(arguments);return c.removeScope(this,b),c=null,a=null,e.apply(this,arguments)}.bind(b,c,this),this.events[a+(d?"_once":"")].push({method:c,scope:b,dispose_orig:e})):-1!==g?g.method!=c&&this.events[a+(d?"_once":"")].push({method:c,scope:g.scope,dispose_orig:g.dispose_orig}):this.events[a+(d?"_once":"")].push({method:c,scope:b,dispose_orig:null})};e.on=e.add=function(a,b,c){this.events[a]||(this.events[a]=[]),g.call(this,a,b,c)},e.onceOn=e.addOnce=function(a,b,c){this.events[a+"_once"]||(this.events[a+"_once"]=[]),g.call(this,a,b,c,!0)};var h=function(a,b,c){if(this.events[a]){for(var d=this.events[a].length;d--;)if(this.events[a][d].scope===b&&this.events[a][d].method===c){var e=this.events[a].splice(d,1).pop();e.scope.dispose&&e.dispose_orig&&(e.scope.dispose=e.dispose_orig),delete e.scope.__signal__id,e.scope=null,e.dispose_orig=null,delete e.dispose_orig,e=null}0===this.events[a].length&&delete this.events[a]}};e.off=e.remove=function(a,b,c){h.call(this,a,b,c),h.call(this,a+"_once",b,c)},e.removeScope=function(a){for(var b in this.events){for(var c=this.events[b].length;c--;)if(this.events[b][c].scope===a){var d=this.events[b].splice(c,1).pop();d.scope.dispose&&d.dispose_orig&&(d.scope.dispose=d.dispose_orig),delete d.scope.__signal__id,d=null}0===this.events[b].length&&delete this.events[b]}},e.removeAll=function(){for(var a in this.events){for(this.events[a].length;this.events[a].length;){var b=this.events[a].shift();b.scope.dispose&&b.dispose_orig&&(b.scope.dispose=b.dispose_orig),delete b.__signal__id,b=null}0===this.events[a].length&&delete this.events[a]}this.events={}},e.dispatch=function(a,b){var c=b||{};if(c.type||(c.type=a),this.events&&this.events[a])for(var d=this.events[a],e=d.length,f=0;e>f;f++){var g=d[f];g.scope[g.method].call(g.scope,c),g=null}if(this.events&&this.events[a+"_once"]){for(var h=this.events[a+"_once"];h.length;){var g=h.shift();g.scope[g.method].call(g.scope,c),g=null}h.length||delete this.events[a+"_once"]}c=null},core.registerNamespace("core.events.Signal"),a.core.events.Signal=b}("undefined"!=typeof process&&void 0!==process.arch?GLOBAL:window),function(a,b){function c(a){a&&a.__inheriting__||e.call(this,a)}var d=null,e=core.Core,f=e.prototype,g=function(a){for(a=0;4>a;a++)try{return a?new ActiveXObject([,"Msxml2","Msxml3","Microsoft"][a]+".XMLHTTP"):new XMLHttpRequest}catch(b){}};c.inherits(e);var h=c.prototype;h.construct=function(a){f.construct.call(this,a),this.settingsCache={}},h.dispose=function(){d=null,this.settingsCache=null,delete this.settingsCache,f.dispose.call(this)};var i=function(a,b){if("json"===b)try{return JSON.parse(a)}catch(c){return null}return"html"===b?a.trim():a},j=function(a){for(var b in this.settingsCache)a[b]||(a[b]=this.settingsCache[b]);return a};h.setConfig=function(a){this.settingsCache=a},h.request=function(a){if(void 0==a)throw new Error("XHR:Invalid parameters");a=j.call(this,a);var b=g(),c=a.method||"get";a.location=a.url||a.location;var d=a.async="undefined"!=typeof a.async?a.async:!0;b.queryString=a.data||null,b.open(c,a.location+(a.nocache?"?cache="+(new Date).getTime():""),d);try{b.setRequestHeader("X-Requested-With","XMLHttpRequest")}catch(e){throw new Error("XHR: "+e)}var f=a.dataType||a.format||"plain";"post"===c.toLowerCase()&&b.setRequestHeader("Content-Type",a.contentType||"application/x-www-form-urlencoded");var h=function(){if(4===b.readyState){if((0===b.status||200===b.status)&&a.callback(i.call(this,b.responseText,f)),/^[45]/.test(b.status))try{a.error()}catch(c){}b=null,a=null}else switch(b.readyState){case 1:try{a.requestSetup()}catch(c){}break;case 2:try{a.requestSent()}catch(c){}break;case 3:try{a.requestInProcess()}catch(c){}}};d&&(b.onreadystatechange=h,d||h());try{b.send(a.data||null)}catch(e){a.error(e),a=null,b=null}},core.registerNamespace("core.net.XHR");var k={init:function(){return null==d&&(d=new c),d}};k.instance=k.init,b.core.net.XHR=k}(core.selector,"undefined"!=typeof process&&void 0!==process.arch?GLOBAL:window),function(a){for(var b=0,c=["webkit","moz"],d=0;d<c.length&&!a.requestAnimationFrame;++d)a.requestAnimationFrame=a[c[d]+"RequestAnimationFrame"],a.cancelAnimationFrame=a[c[d]+"CancelAnimationFrame"]||a[c[d]+"CancelRequestAnimationFrame"];a.requestAnimationFrame||(a.requestAnimationFrame=function(c){var d=(new Date).getTime(),e=Math.max(0,16-(d-b)),f=a.setTimeout(function(){c(d+e)},e);return b=d+e,f}),a.cancelAnimationFrame||(a.cancelAnimationFrame=function(a){clearTimeout(a)}),Math.randomFloat||(Math.randomFloat=function(a,b){return Math.random()*(b-a)+a}),Math.randomInt||(Math.randomInt=function(a,b){return Math.min(b,Math.floor(Math.random()*(1+b-a))+a)})}("undefined"!=typeof process&&void 0!==process.arch?GLOBAL:window);