/*! core 2014-04-08 */
!function(scope){function ver(a,b,c,d){var e=a.exec(ua);return null===e||"object"!=typeof e||"number"!=typeof e.length?!0:"number"==typeof e.length&&e.length>=b+1?c&&d?e[b].replace(c,d):e[b]:!0}if(scope.core||(scope.core={}),!scope.core.selector)try{scope.core.selector="undefined"!=typeof jQuery?jQuery:"undefined"!=typeof $?$:document.querySelectorAll||null}catch(err){scope.core.selector=document.querySelectorAll||null}if("function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d?this:a||window,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),Function.prototype.inherits=function(a){var b=function(){};b.prototype=new a({__inheriting__:!0}),this.prototype=b.prototype,this.prototype.constructor=this,b=null},Function.prototype.augment=function(a){for(var b in a)this.prototype[b]=a[b]},"undefined"!=typeof navigator){var N=navigator.appName,ua=navigator.userAgent,tem,M=ua.match(/(opera|chrome|safari|firefox|msie|trident)\/?\s*(\.?\d+(\.\d+)*)/i);M&&null!=(tem=ua.match(/version\/([\.\d]+)/i))&&(M[2]=tem[1]),M=M?[M[1],M[2]]:[N,navigator.appVersion,"-?"];var br={mobile:!1,ios:!1,iphone:!1,ipad:!1,android:!1,webos:!1,mac:!1,windows:!1,other:!0,name:"trident"==M[0].toLowerCase()?"msie":M[0].toLowerCase(),version:M[1].split(".")[0],touch:"ontouchstart"in window,full_version:M[1]};/mobile/i.test(ua)&&(br.mobile=!0),/like Mac OS X/.test(ua)&&(br.ios=ver(/CPU( iPhone)? OS ([0-9\._]+) like Mac OS X/,2,/_/g,"."),br.iphone=/iPhone/.test(ua),br.ipad=/iPad/.test(ua)),/Android/.test(ua)&&(br.android=ver(/Android ([0-9\.]+)[\);]/,1)),/webOS\//.test(ua)&&(br.webos=ver(/webOS\/([0-9\.]+)[\);]/,1)),/(Intel|PPC) Mac OS X/.test(ua)&&(br.mac=ver(/(Intel|PPC) Mac OS X ?([0-9\._]*)[\)\;]/,2,/_/g,".")),/Windows NT/.test(ua)&&(br.windows=ver(/Windows NT ([0-9\._]+)[\);]/,1));for(var key in br)"Other"!==key&&"Mobile"!==key&&br[key]!==!1&&(br.other=!1);scope.core.browser=br,scope.core.browser["trident"==M[0].toLowerCase()?"msie":M[0].toLowerCase()]={version:M[1].split(".")[0]}}scope.core.GUID=function(){for(var a=[],b="0123456789abcdef",c=0;36>c;c++)a[c]=b.substr(Math.floor(16*Math.random()),1);a[14]="4",a[19]=b.substr(3&a[19]|8,1),a[8]=a[13]=a[18]=a[23]="-";var d=a.join("");return d},scope.core.rect=function(a){return a instanceof Array?a[0].getBoundingClientRect():a.getBoundingClientRect()},scope.core.registerNamespace=function(a,b){var c=a.split("."),d=c.shift();scope[d]||(scope[d]={});for(var e=scope[d];c.length>1;){var f=c.shift();e[f]||(e[f]={}),e=e[f]}var g=c.shift();e[g]=b||{}},scope.core.import=function(a){for(var b=a.split("."),c=scope;b.length;){var d=b.shift();if(!c[d])return null;c=c[d]}return c},scope.JSON||(scope.JSON={}),function(){function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)d=rep[c],"string"==typeof d&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()}("undefined"!=typeof process&&void 0!==process.arch?GLOBAL:window),console||(console={log:function(){},warn:function(){},trace:function(){}}),function(a){function b(b){if(!b||!b.__inheriting__){b&&b.el&&(this.el="string"!=typeof b.el||"undefined"==typeof jQuery&&"undefined"==typeof a?"string"==typeof b.el&&"undefined"!=typeof jQuery&&"undefined"!=typeof a?document.querySelectorAll(b.el):b.el:a(b.el)),this.proxyHandlers={},this.construct(b);var c=this;setTimeout(function(){c.delayedConstruct&&c.delayedConstruct(b)},0)}}b.prototype._=b.prototype.getProxyHandler=function(a){return this.proxyHandlers[a]||("function"==typeof this[a]?this.proxyHandlers[a]=this[a].bind(this):console.warn("Warning: attempt to create non existing method as proxy "+a)),this.proxyHandlers[a]},b.prototype.clearProxyHandler=function(a){var b=this.proxyHandlers[a];return null===b&&console.warn("Warning: attempt to clear a non-existing proxy - "+a),this.proxyHandlers[a]=null,delete this.proxyHandlers[a],b},b.prototype.construct=function(){},b.prototype.delayedConstruct=function(){},b.prototype.dispose=function(){this.el=null;for(var a in this.proxyHandlers)this.proxyHandlers[a]=null,delete this.proxyHandlers[a]},core.registerNamespace("core.Core",b)}(core.selector,"undefined"!=typeof process&&void 0!==process.arch?GLOBAL:window),function(){function a(a){b.call(this,a)}var b=core.Core,c=b.prototype;a.inherits(b);var d=a.prototype;d.construct=function(a){c.construct.call(this,a),this.events={}},d.dispose=function(){c.dispose.call(this),this.removeAll(),this.events=null};var e=function(a,b){for(var c=a.length,d=0;c>d;d++)if(a[d].scope===b)return a[d];return b.__signal__id=core.GUID(),-1},f=function(a,b,c,d){var f=null,g=e.call(this,this.events[a+(d?"_once":"")],b);-1===g&&b.dispose?(f=b.dispose,b.dispose=function(){var a=Array.prototype.shift.call(arguments),c=Array.prototype.shift.call(arguments);return c.removeScope(this,b),c=null,a=null,f.apply(this,arguments)}.bind(b,c,this),this.events[a+(d?"_once":"")].push({method:c,scope:b,dispose_orig:f})):-1!==g?g.method!=c&&this.events[a+(d?"_once":"")].push({method:c,scope:g.scope,dispose_orig:g.dispose_orig}):this.events[a+(d?"_once":"")].push({method:c,scope:b,dispose_orig:null})};d.on=d.add=function(a,b,c){this.events[a]||(this.events[a]=[]),f.call(this,a,b,c)},d.onceOn=d.addOnce=function(a,b,c){this.events[a+"_once"]||(this.events[a+"_once"]=[]),f.call(this,a,b,c,!0)};var g=function(a,b,c){if(this.events[a]){for(var d=this.events[a].length;d--;)if(this.events[a][d].scope===b&&this.events[a][d].method===c){var e=this.events[a].splice(d,1).pop();e.scope.dispose&&e.dispose_orig&&(e.scope.dispose=e.dispose_orig),delete e.scope.__signal__id,e.scope=null,e.dispose_orig=null,delete e.dispose_orig,e=null}0===this.events[a].length&&delete this.events[a]}};d.off=d.remove=function(a,b,c){g.call(this,a,b,c),g.call(this,a+"_once",b,c)},d.removeScope=function(a){for(var b in this.events){for(var c=this.events[b].length;c--;)if(this.events[b][c].scope===a){var d=this.events[b].splice(c,1).pop();d.scope.dispose&&d.dispose_orig&&(d.scope.dispose=d.dispose_orig),delete d.scope.__signal__id,d=null}0===this.events[b].length&&delete this.events[b]}},d.removeAll=function(){for(var a in this.events){for(this.events[a].length;this.events[a].length;){var b=this.events[a].shift();b.scope.dispose&&b.dispose_orig&&(b.scope.dispose=b.dispose_orig),delete b.__signal__id,b=null}0===this.events[a].length&&delete this.events[a]}this.events={}},d.dispatch=function(a,b){var c=b||{};if(c.type||(c.type=a),this.events&&this.events[a])for(var d=this.events[a],e=d.length,f=0;e>f;f++){var g=d[f];g.scope[g.method].call(g.scope,c),g=null}if(this.events&&this.events[a+"_once"]){for(var h=this.events[a+"_once"];h.length;){var g=h.shift();g.scope[g.method].call(g.scope,c),g=null}h.length||delete this.events[a+"_once"]}c=null},core.registerNamespace("core.events.Signal",a)}("undefined"!=typeof process&&void 0!==process.arch?GLOBAL:window),function(){function a(a){a&&a.__inheriting__||c.call(this,a)}var b=null,c=core.events.Signal,d=c.prototype;a.inherits(c);var e=a.prototype;e.construct=function(a){d.construct.call(this,a)},e.dispose=function(){d.dispose.call(this)};var f={init:function(){return null==b&&(b=new a),b}};f.instance=f.init,core.registerNamespace("core.events.EventChannel",f)}(core.selector,"undefined"!=typeof process&&void 0!==process.arch?GLOBAL:window),function(){function a(a){a&&a.__inheriting__||c.call(this,a)}var b=null,c=core.Core,d=c.prototype,e=function(a){for(a=0;4>a;a++)try{return a?new ActiveXObject([,"Msxml2","Msxml3","Microsoft"][a]+".XMLHTTP"):new XMLHttpRequest}catch(b){}};a.inherits(c);var f=a.prototype;f.construct=function(a){d.construct.call(this,a),this.settingsCache={}},f.dispose=function(){b=null,this.settingsCache=null,delete this.settingsCache,d.dispose.call(this)};var g=function(a,b){if("json"===b)try{return JSON.parse(a)}catch(c){return null}return"html"===b?a.trim():a},h=function(a){for(var b in this.settingsCache)a[b]||(a[b]=this.settingsCache[b]);return a};f.setConfig=function(a){this.settingsCache=a},f.request=function(a){if(void 0==a)throw new Error("XHR:Invalid parameters");a=h.call(this,a);var b=e(),c=a.method||"get";a.location=a.url||a.location;var d=a.async="undefined"!=typeof a.async?a.async:!0;b.queryString=a.data||null,b.open(c,a.location+(a.nocache?"?cache="+(new Date).getTime():""),d);try{b.setRequestHeader("X-Requested-With","XMLHttpRequest")}catch(f){throw new Error("XHR: "+f)}var i=a.dataType||a.format||"plain";"post"===c.toLowerCase()&&b.setRequestHeader("Content-Type",a.contentType||"application/x-www-form-urlencoded");var j=function(){if(4===b.readyState){if((0===b.status||200===b.status)&&a.callback(g.call(this,b.responseText,i)),/^[45]/.test(b.status))try{a.error()}catch(c){}b=null,a=null}else switch(b.readyState){case 1:try{a.requestSetup()}catch(c){}break;case 2:try{a.requestSent()}catch(c){}break;case 3:try{a.requestInProcess()}catch(c){}}};d&&(b.onreadystatechange=j,d||j());try{b.send(a.data||null)}catch(f){a.error(f),a=null,b=null}};var i={init:function(){return null==b&&(b=new a),b}};i.instance=i.init,core.registerNamespace("core.net.XHR",i)}(core.selector,"undefined"!=typeof process&&void 0!==process.arch?GLOBAL:window),function(a,b){function c(a){a&&a.__inheriting__||e.call(this,a)}function d(a,b){var c=!1,d=!0,e=a.document,f=e.documentElement,g=e.addEventListener?"addEventListener":"attachEvent",h=e.addEventListener?"removeEventListener":"detachEvent",i=e.addEventListener?"":"on",j=function(d){("readystatechange"!=d.type||"complete"==e.readyState)&&(("load"==d.type?a:e)[h](i+d.type,j,!1),!c&&(c=!0)&&b.call(a,d.type||d))},k=function(){try{f.doScroll("left")}catch(a){return void setTimeout(k,50)}j("poll")};if("complete"==e.readyState)b.call(a,"lazy");else{if(e.createEventObject&&f.doScroll){try{d=!a.frameElement}catch(l){}d&&k()}e[g](i+"DOMContentLoaded",j,!1),e[g](i+"readystatechange",j,!1),a[g](i+"load",j,!1)}}var e=core.import("core.Core"),f=e.prototype;c.inherits(e);var g=c.prototype;g.construct=function(a){f.construct.call(this,a),"undefined"!=typeof document&&d(window,this.getProxyHandler("onDocumentReady"))},g.dispose=function(){f.dispose.call(this)};var h=function(){var a=document.body;if(a.hasAttribute("core-app")||a.hasAttribute("data-root")){var c=Function.apply(b,["return "+a.getAttribute(a.hasAttribute("core-app")?"core-app":"data-root")])(),d=a.getAttribute("data-params")?JSON.parse(a.getAttribute("data-params")):{};d.el=a,window.__coreapp__=new c(d)}else i=null};g.onDocumentReady=function(a){a&&h.call(this)};var i=new c}(core.selector,"undefined"!=typeof process&&void 0!==process.arch?GLOBAL:window),function(a,b){function c(a){a&&a.__inheriting__||e.call(this,a)}function d(c){var d=function(c){for(var e,f,g=-1,h=c.length-1;g++<h;){var i=c[g];1==i.nodeType&&(i.getAttribute("core-module")&&i.getAttribute("id")&&!this[i.getAttribute("id")]?(e=Function.apply(b,["return "+i.getAttribute("core-module")])(),f=i.getAttribute("data-params")?JSON.parse(i.getAttribute("data-params")):{},f.el="undefined"!=typeof jQuery?a(i):i,this[i.getAttribute("id")]=new e(f)):i.getAttribute("core-module")&&!i.getAttribute("id")?(e=Function.apply(b,["return "+i.getAttribute("core-module")])(),f=i.getAttribute("data-params")?JSON.parse(i.getAttribute("data-params")):{},f.el="undefined"!=typeof jQuery?a(i):i,new e(f)):i.hasChildNodes()&&d(i.childNodes))}};d(c.childNodes)}var e=core.Core,f=e.prototype;c.inherits(e);var g=c.prototype;g.delayedConstruct=function(a){d.call(this,this.el),this.initialized(a)},g.dispose=function(){f.dispose.call(this)},g.find=function(a){if("querySelectorAll"in document)return document.querySelectorAll(a);var b=function(a){for(var c=-1,d=a.length-1;c++<d;){var e=a[c];1==e.nodeType,e.hasChildNodes()&&b(e.childNodes)}};b(this.el instanceof Array&&"undefined"!=typeof jQuery?this.el[0].childNodes:this.el.childNodes)},core.registerNamespace("core.delegates.Module",c)}(core.selector,"undefined"!=typeof process&&void 0!==process.arch?GLOBAL:window),function(a){for(var b=0,c=["webkit","moz"],d=0;d<c.length&&!a.requestAnimationFrame;++d)a.requestAnimationFrame=a[c[d]+"RequestAnimationFrame"],a.cancelAnimationFrame=a[c[d]+"CancelAnimationFrame"]||a[c[d]+"CancelRequestAnimationFrame"];a.requestAnimationFrame||(a.requestAnimationFrame=function(c){var d=(new Date).getTime(),e=Math.max(0,16-(d-b)),f=a.setTimeout(function(){c(d+e)},e);return b=d+e,f}),a.cancelAnimationFrame||(a.cancelAnimationFrame=function(a){clearTimeout(a)}),Math.randomFloat||(Math.randomFloat=function(a,b){return Math.random()*(b-a)+a}),Math.randomInt||(Math.randomInt=function(a,b){return Math.min(b,Math.floor(Math.random()*(1+b-a))+a)})}("undefined"!=typeof process&&void 0!==process.arch?GLOBAL:window);