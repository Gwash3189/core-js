/*! core 2014-04-13 */
!function(){function a(a){a&&a.__inheriting__||b.call(this,a)}var b=core.Core,c=b.prototype;a.inherits(b);var d=a.prototype;d.construct=function(a){c.construct.call(this,a),this.supportTouch=a.supportTouch||!1,this.initialize()},d.dispose=function(){c.dispose.call(this)},d.update=function(){for(var a=this.elements.length;a--;){var b=Number(this.elements[a].getAttribute("scroll-offset"))||.1,c=Number(this.elements[a].getAttribute("scroll-invert"))||0,d=core.rect(this.elements[a]).top,e=d*b;c&&(e*=-1),this.elements[a].style.backgroundPosition="center "+e+"px"}this.tick=!1},d.onWindowScroll=function(){(this.supportTouch||!core.browser.touch)&&(this.tick||(requestAnimationFrame(this._("update")),this.tick=!0))},d.initialize=function(){this.elements=this.findAll("[parallax]"),window.addEventListener("scroll",this._("onWindowScroll")),requestAnimationFrame(this._("update")),this.tick=!0};var e,f={init:function(b){return null==e&&(e=new a(b)),e}};f.instance=f.init,core.registerNamespace("CoreParallax",f)}();